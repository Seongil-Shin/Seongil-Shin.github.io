<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="You don’t know JS Yet 2부 - 7장 클로저 사용법" /><meta name="author" content="신성일" /><meta property="og:locale" content="ko" /><meta name="description" content="클로저는 최소 노출의 원칙 (POLE)을 기반으로 한다. 변수를 오랫동안 유지해야하는 경우 클로저를 사용하면 변수를 외부 스코프에 두는 대신 더 제한된 스코프로 캡슐화 할 수 있다." /><meta property="og:description" content="클로저는 최소 노출의 원칙 (POLE)을 기반으로 한다. 변수를 오랫동안 유지해야하는 경우 클로저를 사용하면 변수를 외부 스코프에 두는 대신 더 제한된 스코프로 캡슐화 할 수 있다." /><link rel="canonical" href="https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/" /><meta property="og:url" content="https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/" /><meta property="og:site_name" content="디피의 개발일지" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-12-09T19:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="You don’t know JS Yet 2부 - 7장 클로저 사용법" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"신성일"},"dateModified":"2024-12-09T19:00:00+09:00","datePublished":"2024-12-09T19:00:00+09:00","description":"클로저는 최소 노출의 원칙 (POLE)을 기반으로 한다. 변수를 오랫동안 유지해야하는 경우 클로저를 사용하면 변수를 외부 스코프에 두는 대신 더 제한된 스코프로 캡슐화 할 수 있다.","headline":"You don’t know JS Yet 2부 - 7장 클로저 사용법","mainEntityOfPage":{"@type":"WebPage","@id":"https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/"},"url":"https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/"}</script><title>You don't know JS Yet 2부 - 7장 클로저 사용법 | 디피의 개발일지</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-HC9W0NGRV0"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-HC9W0NGRV0'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">디피의 개발일지</a></div><div class="site-subtitle font-italic">개인 학습 및 프로젝트 기록</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Seongil-Shin" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['callmeshin75','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/%EC%84%B1%EC%9D%BC-%EC%8B%A0-a9411b237/" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>You don't know JS Yet 2부 - 7장 클로저 사용법</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>You don't know JS Yet 2부 - 7장 클로저 사용법</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> 신성일 </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Dec 9, 2024, 7:00 PM +0900" prep="on" > Dec 9 <i class="unloaded">2024-12-09T19:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2464 words">13 min</span></div></div><div class="post-content"><p>클로저는 최소 노출의 원칙 (POLE)을 기반으로 한다. 변수를 오랫동안 유지해야하는 경우 클로저를 사용하면 변수를 외부 스코프에 두는 대신 더 제한된 스코프로 캡슐화 할 수 있다.</p><p>함수 내부에서 함수 밖 해당 변수에 계속 접근할 수 있어 변수를 더 넓은 범위에서 사용할 수 있는 이점이 있다.</p><h2 id="71-클로저-관찰하기">7.1 클로저 관찰하기</h2><ul><li>클로저는 함수에서만 일어나는 함수의 동작이다<li>클로저를 관찰하려면 함수를 반드시 호출해야한다<li>호출한 함수는 해당 함수를 정의한 스코프 체인이 아닌 다른 분기에서 호출되어야한다<li>클로저는 함수 인스턴스에 따라 다르게 생성된다</ul><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">seeCloser</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">random</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">();</span>

	<span class="k">return</span> <span class="kd">function</span> <span class="nf">printRandom</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">님, </span><span class="p">${</span><span class="nx">random</span><span class="p">}</span><span class="s2">입니다.`</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">print</span> <span class="o">=</span> <span class="nf">seeCloser</span><span class="p">(</span><span class="dl">"</span><span class="s2">홍철</span><span class="dl">"</span><span class="p">);</span>
<span class="nf">print</span><span class="p">();</span> <span class="c1">// 홍철님, 0.123213입니다.</span>
<span class="kd">const</span> <span class="nx">print2</span> <span class="o">=</span> <span class="nf">seeCloser</span><span class="p">(</span><span class="dl">"</span><span class="s2">지후</span><span class="dl">"</span><span class="p">);</span>
<span class="nf">print2</span><span class="p">();</span> <span class="c1">// 지후님, 0.1242131입니다.</span>
</pre></table></code></div></div><p>만약 클로저가 없었다면 printRandom은 해당 함수 내 스코프에 있는 변수만 접근가능하여 <code class="language-plaintext highlighter-rouge">print</code> 호출 시 ReferenceError가 발생했을 것임. 하지만 클로저가 있기에 에러가 발생하지 않음.</p><p>이렇게 내부 함수가 외부 스코프에 있는 변수를 참조하는 것을 클로저라고 한다.</p><p>이러한 클로저는 렉시컬 스코프에 기반을 두고 있고 컴파일 시 처리되긴 하지만, 실제로 클로저 동작은 실행 시점에 함수 인스턴스에 따라 달라지는 특성을 가진다.</p><h3 id="화살표-함수의-스코프">화살표 함수의 스코프</h3><p>화살표 함수에서도 마찬가지로 스코프가 형성되며 클로저가 만들어진다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">seeCloser</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">random</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">();</span>

	<span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">님, </span><span class="p">${</span><span class="nx">random</span><span class="p">}</span><span class="s2">입니다.`</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">print</span> <span class="o">=</span> <span class="nf">seeCloser</span><span class="p">(</span><span class="dl">"</span><span class="s2">홍철</span><span class="dl">"</span><span class="p">);</span>
<span class="nf">print</span><span class="p">();</span> <span class="c1">// 홍철님, 0.123213입니다.</span>
</pre></table></code></div></div><h3 id="스냅샷이-아닌-라이브-링크">스냅샷이 아닌 라이브 링크</h3><p>클로저는 값을 저장하는 스냅샷이 아닌 실시간으로 변수에 언제든 접근 가능하도록 관계를 맺어주는 라이브링크이다. 따라서 값을 읽을 뿐 아니라 수정도 할 수 있다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">counter</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">return</span> <span class="kd">function</span> <span class="nf">getCurrent</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">count</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hits</span> <span class="o">=</span> <span class="nf">counter</span><span class="p">();</span>
<span class="nf">hits</span><span class="p">();</span> <span class="c1">// 0</span>
<span class="nf">hits</span><span class="p">();</span> <span class="c1">// 1</span>
</pre></table></code></div></div><p>클로저는 감싼 변수와 연결을 맺어주는 것이므로 아래와 같은 동작이 일어날 수 있다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">지수</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">hello</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="kd">function</span> <span class="nf">greeting</span><span class="p">(</span><span class="nx">gret</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">님, </span><span class="p">${</span><span class="nx">gret</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">한주</span><span class="dl">"</span>

<span class="kd">var</span> <span class="nx">hi</span> <span class="o">=</span> <span class="nf">hello</span><span class="p">();</span>
<span class="nf">hi</span><span class="p">(</span><span class="dl">"</span><span class="s2">hi</span><span class="dl">"</span><span class="p">)</span> <span class="c1">// 한주님, hi</span>
</pre></table></code></div></div><p>아래와 같은 의도치 않은 동작도 일어날 수도 있다. 원래 의도는 각각 0,1,2 를 반환하는 것이었지만 var가 한번만 선언했기에 keeps에 생성된 모든 인스턴스들은 해당 변수와 연결된 것이다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">keeps</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">keeps</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nf">keepI</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="nx">keeps</span><span class="p">[</span><span class="mi">0</span><span class="p">]();</span> <span class="c1">// 3</span>
<span class="nx">keeps</span><span class="p">[</span><span class="mi">1</span><span class="p">]();</span> <span class="c1">// 3</span>
<span class="nx">keeps</span><span class="p">[</span><span class="mi">2</span><span class="p">]();</span> <span class="c1">// 3</span>
</pre></table></code></div></div><p>이러한 의도치 않은 동작은 setTimeout 등 비동기 함수를 실행할 때 자주 일어난다</p><h3 id="쉽게-관찰할-수-있는-클로저--ajax-와-이벤트">쉽게 관찰할 수 있는 클로저 : ajax 와 이벤트</h3><p>이벤트 등 비동기 함수를 등록할때 보통 콜백과 함께 등록하는데, 이때 클로저를 자주 관찰할 수 있다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">listeanForClicks</span><span class="p">(</span><span class="nx">btn</span><span class="p">,</span> <span class="nx">label</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">btn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="nf">onClick</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">label</span><span class="p">}</span><span class="s2"> 버튼을 클릭했습니다`</span><span class="p">)</span>
	<span class="p">})</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="관찰-가능성-관점에서-클로저의-정의">관찰 가능성 관점에서 클로저의 정의</h3><blockquote><p>클로저는 함수가 외부 스코프의 변수를 사용하면서, 그 변수에 접근하지 않은 다른 스코프에서 실행될 때 관찰된다.</p></blockquote><h2 id="72-클로저-생명주기와-가비지-컬렉션">7.2 클로저 생명주기와 가비지 컬렉션</h2><p>클로저는 본질적으로 함수의 인스턴스와 연결되므로, 이 함수를 참조하는 함수가 있는한 변수에 대한 클로저는 지속된다. 함수 참조가 삭제되면 변수에 대한 클로저가 사라지고 변수는 GC 처리된다.</p><p>이러한 특성은 의도치 않은 메모리 사용을 급증시키는 요인이 될 수 있다. 따라서 더이상 필요하지 않은 함수참조를 삭제하는 것은 중요하다 (이벤트핸들러 제거 등)</p><h3 id="변수-혹은-스코프">변수 혹은 스코프</h3><p>개념만 따졌을때 클로저는 변수를 기준으로 동작하기에 클로저를 생성하는 함수 내에서 사용하지 않는 변수는 클로저에 포함되지 않는다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">manageStudentGrades</span><span class="p">(</span><span class="nx">studentRecords</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">grades</span> <span class="o">=</span> <span class="nx">studentRecords</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">getGrades</span><span class="p">)</span>

	<span class="k">return</span> <span class="nx">addGrade</span><span class="p">;</span>

	<span class="kd">function</span> <span class="nf">getGrade</span><span class="p">(</span><span class="nx">record</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">record</span><span class="p">.</span><span class="nx">grade</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kd">function</span> <span class="nf">sortAndTrimGradesList</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">grades</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="kd">function</span> <span class="nf">desc</span><span class="p">(</span><span class="nx">g1</span><span class="p">,</span> <span class="nx">g2</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">g2</span> <span class="o">-</span> <span class="nx">g1</span><span class="p">;</span>
		<span class="p">})</span>
		<span class="nx">grades</span> <span class="o">=</span> <span class="nx">grades</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="kd">function</span> <span class="nf">addGrade</span><span class="p">(</span><span class="nx">newGrade</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">grades</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">newGrades</span><span class="p">);</span>
		<span class="nf">sortAndTrimGradesList</span><span class="p">();</span>
		<span class="k">return</span> <span class="nx">grades</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">addNextGrade</span> <span class="o">=</span> <span class="nf">manageStudentGrades</span><span class="p">([</span>
	<span class="p">{</span><span class="na">grade</span><span class="p">:</span><span class="mi">65</span><span class="p">},</span> <span class="p">{</span><span class="na">grade</span><span class="p">:</span><span class="mi">12</span><span class="p">},</span> <span class="p">{</span><span class="na">grade</span><span class="p">:</span><span class="mi">54</span><span class="p">}</span>
<span class="p">])</span>

<span class="nf">addNextGrade</span><span class="p">(</span><span class="mi">92</span><span class="p">);</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">sortAndTrimGradesList</code> : <code class="language-plaintext highlighter-rouge">addGrade</code> 에서 사용함으로 클로저에 포함됨<li><code class="language-plaintext highlighter-rouge">grades</code> : <code class="language-plaintext highlighter-rouge">addGrade</code> 에서 사용하여 클로저에 포함됨<li><code class="language-plaintext highlighter-rouge">studentRecords</code>, <code class="language-plaintext highlighter-rouge">getGrade</code> : <code class="language-plaintext highlighter-rouge">addGrade</code>, <code class="language-plaintext highlighter-rouge">sortAndTrimGradesList</code> 모두에서 사용하지 않아 클로저에 포함되지 않음</ul><p>하지만 아래 코드와 같이 <code class="language-plaintext highlighter-rouge">eval</code>을 사용하는 경우는 다르다.</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">storeStudentInfo</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">grade</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="kd">function</span> <span class="nf">getInfo</span><span class="p">(</span><span class="nx">witchValue</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nf">eval</span><span class="p">(</span><span class="nx">whichValue</span><span class="p">);</span>
		<span class="k">return</span> <span class="nx">val</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">info</span> <span class="o">=</span> <span class="nf">storeStudentInfo</span><span class="p">(</span><span class="mi">72</span><span class="p">,</span> <span class="dl">"</span><span class="s2">지희</span><span class="dl">"</span><span class="p">,</span> <span class="mi">82</span><span class="p">);</span>
<span class="nf">info</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">)</span>
</pre></table></code></div></div><p>디버깅을 해보면 id, name, grade 모두 클로저에 포함된다. 이 이유는 아래와 같다</p><ul><li>클로저는 스코프를 기준으로 형성된다.<li>하지만 현대 JS 엔진 상당수는 최적화를 위해 함수에서 실제로 참조하지 않는 변수는 클로저에서 제외한다.<li><code class="language-plaintext highlighter-rouge">eval</code>을 사용하는 경우에는 어떤 변수에 접근할지 결정할 수 없기에 이러한 최적화가 동작하지 않는다.</ul><p>이러한 최적화는 명세서에 언급도니 동작이 아니다. 따라서 최적화가 항상 동작할거라고 과신하면 안된다. 만약 어떤 큰 값이 클로저 스코프에 포함된다면 수동으로 값을 버리는 것이 안전하다.</p><h2 id="73-다른-관점">7.3 다른 관점</h2><p>현재 관점에서 스코프는 함수의 일급값이라는 특성을 기반으로, 함수가 어디로 이동하든 해당 함수를 외부 스코프에 있는 변수와 연결해주는 링크 역할을 한다고 이해할 수 있다</p><p>하지만 여기서 JS는 함수를 참조에 의해 저장되고 참조/복사를 통해 할당/전달된다는 점을 강조하면 이해도가 높아진다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/Pasted%20image%2020241211190534.png" alt="" /></p><ul><li>함수 인스턴스는 자신이 생성된 위치에 그대로 있음. 반환된 것은 함수의 인스턴스의 참조.<li>반환된 함수 인스턴스 참조를 통해 다른 곳에 있는 함수를 호출한다고 생각하면, 단순히 렉시컬 스코프만으로 설명할 수 있음.<li>이 관점에서 클로저를 정의하면 클로저는 프로그램의 다른 부분에서 해당 함수 인스턴스 참조가 살아있으면, 그 함수 인스턴스와 전체 스코프 환경 및 스코프 체인을 살아있게 유지하는 마법이라 볼 수 있다.</ul><p>기존 모델은 학문적인 관점에서 만들어진 모델이고, 새로운 관점은 실제로 구현할때 어떻게할지에 초점을 맞춘 관점이다. 어떤 모델을 선택하든 관찰가능한 결과는 같다.</p><h2 id="74-클로저를-사용하는-이유">7.4 클로저를 사용하는 이유</h2><p>클로저를 기반으로 하는 함수형 프로그래밍 패러다임의 대표적인 기법 두 가지는 “부분 적용”과 “커링”이다. 간략히는 여러 입력이 필요한 함수의 모양일 바꿔서 미리 입력하거나 나중에 입력하는 기법이다. 초기 입력은 클로저를 통해 기억된다.</p><p>클로저를 통해 내부에 정보를 캡슐화하는 함수 인스턴스를 만들면 나중에 입력을 다시 제공할 필요 없이, 정보를 저장한 함수를 다시 사용할 수 있다.</p><h2 id="75-정리">7.5 정리</h2><p>클로저를 이해하기 위한 두가지 모델</p><ul><li>관찰 관점 : 클로저는 함수가 다른 스코프로 전달되거나 호출될 때에도 외부 변수를 기억하는 함수 인스턴스이다<li>구현 관점 : 클로저는 다른 스코프에서 참조가 전달되고 호출되는 동안 함수 인스턴스와 해당 스코프 환경을 제자리에 보존한다.</ul><p>클로저를 사용했을때의 이점</p><ul><li>함수 인스턴스가 매번 계산할 필요없이 이전에 결정된 정보를 기억해내어 함수의 효율성을 높인다<li>함수 인스턴스 안에 변수를 캡슐화해 코드 가독성을 개선하고 스코프 노출을 제한하는 동시에 나중에 변수에 있는 정보를 사용할 수 있도록 보장한다. 함수를 호출할때마다 정보를 전달할 필요가 없다.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/study/'>study,</a>, <a href='/categories/ydkjsy/'>YDKJSY</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/study/" class="post-tag no-text-decoration" >#study</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=You don't know JS Yet 2부 - 7장 클로저 사용법 - 디피의 개발일지&url=https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=You don't know JS Yet 2부 - 7장 클로저 사용법 - 디피의 개발일지&u=https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=You don't know JS Yet 2부 - 7장 클로저 사용법 - 디피의 개발일지&url=https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/You-don't-know-JS-Yet-1%EC%9E%A5-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/">You don't know JS Yet - 1장 자바스크립트</a><li><a href="/posts/why-nextjs-sucks/">why-nextjs-sucks</a><li><a href="/posts/the-state-of-es5-on-the-web/">the state of es5 on the web</a><li><a href="/posts/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%9D%98-%EB%87%8C-3%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EB%AC%B8%EB%B2%95-%EB%B9%A0%EB%A5%B4%EA%B2%8C-%EB%B0%B0%EC%9A%B0%EA%B8%B0/">프로그래머의 뇌 3장 프로그래밍 문법 빠르게 배우기</a><li><a href="/posts/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%9D%98-%EB%87%8C-4%EC%9E%A5-%EB%B3%B5%EC%9E%A1%ED%95%9C-%EC%BD%94%EB%93%9C-%EC%9D%BD%EB%8A%94-%EB%B0%A9%EB%B2%95/">프로그래머의 뇌 4장 복잡한 코드 읽는 방법</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/study/">#study</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/next-js/">next.js</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/db/">db</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/java/">java</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/You-don't-know-JS-Yet-2%EC%9E%A5-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%A1%B0%EB%A7%9D%ED%95%98%EA%B8%B0/"><div class="card-body"> <span class="timeago small" > Nov 4 <i class="unloaded">2024-11-04T19:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>You don't know JS Yet - 2장 자바스크립트 조망하기</h3><div class="text-muted small"><p> 2.1 파일은 프로그램입니다 웹사이트 하나, 애플리케이션 하나를 프로그램 하나로 생각하기 쉽지만, JS에서는 파일 각각이 별도의 프로그램이다. 이러한 관점은 오류 처리와 관련이 깊은데, JS는 파일을 프로그램으로 취급하기에 파일 하나에만 오류가 있어도 다음 파일이 처리되지 않을 수 있다. 독립적인 js 파일을 하나의 프로그램으로 작동시키는 방법은 ...</p></div></div></a></div><div class="card"> <a href="/posts/You-don't-know-JS-Yet-3%EC%9E%A5-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%BF%8C%EB%A6%AC-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/"><div class="card-body"> <span class="timeago small" > Nov 17 <i class="unloaded">2024-11-17T19:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>You don't know JS Yet - 3장 자바스크립트 뿌리 파헤치기</h3><div class="text-muted small"><p> 3.1 이터레이션 이터레이터 패턴 : 데이터를 일정 단위로 쪼개고, 이 조각들을 차례로 순회하며 점진적으로 처리하는 표준화된 방법 처리할 데이터를 참조하는 데이터 구조인 이터레이터가 정의되어야함 next() 메서드 : 데이터 조각을 차례로 반환하는 메서드 매 호출마다 value, done 프로퍼티를 제공함. 반...</p></div></div></a></div><div class="card"> <a href="/posts/You-don't-know-JS-Yet-4%EC%9E%A5-%EB%8D%94-%ED%81%B0-%EA%B7%B8%EB%A6%BC/"><div class="card-body"> <span class="timeago small" > Nov 20 <i class="unloaded">2024-11-20T19:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>You don't know JS Yet - 4장 더 큰 그림</h3><div class="text-muted small"><p> 4.1 첫 번째 기둥: 스코프와 클로저 렉시컬 스코프 모델 : 스코프의 기준과 그 경계, 경계 안에서 변수가 어떻게 구성되는지 프로그램을 파싱할때 결정되는 모델. (= 개발자가 스코프를 어디에 배치하냐에 따라 달라지는 모델) JS는 렉시컬 스코프 모델을 채택하고 있지만, 여타 언어와 다른 두 가지 특징을 더 갖는다 호이스팅 var 로 선언...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EB%B9%8C%EB%93%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%97%86%EC%9D%B4-%ED%94%84%EB%9F%B0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0/" class="btn btn-outline-primary" prompt="Older"><p>빌드 시스템 없이 프런트엔드 자바스크립트 라이브러리 불러오기</p></a> <a href="/posts/State-of-frontend-2024/" class="btn btn-outline-primary" prompt="Newer"><p>State of frontend 2024</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'You don't know JS Yet 2부 - 7장 클로저 사용법'; this.page.url = 'https://seongil-shin.github.io/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/'; this.page.identifier = '/posts/You-don't-know-JS-Yet-2%EB%B6%80-7%EC%9E%A5-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9%EB%B2%95/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#main > div.row:first-child > div:first-child img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/Seongil-Shin">ShinSeongil</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/study/">#study</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/next-js/">next.js</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/db/">db</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/java/">java</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://seongil-shin.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
